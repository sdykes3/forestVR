<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Navigator.Geolocation and A-Frame</title>
    <meta name="description" content="VR Forest New">
    <script src="https://aframe.io/releases/0.3.0/aframe.min.js"></script>
    <!--component used for text-->
    <script src="https://rawgit.com/bryik/aframe-bmfont-text-component/master/dist/aframe-bmfont-text-component.min.js"></script>
  </head>
  <body>

    <a-scene id="3dScene">

      <!-- 0. Art assets -->
      <a-assets>
        <img id="aquarium" src="panoramas/aqui.jpg">
        <img id="century" src="panoramas/cent.jpg">
        <img id="piedmont" src="panoramas/pied.jpg">
        <img id="museum" src="panoramas/high.jpg">
        <img id="woc" src="panoramas/woc.jpg">
        <img id="forestPano" src="https://sdykes3.github.io/forestVR/my-img/trees.jpg">
        <img id="clearPano" src="https://sdykes3.github.io/forestVR/my-img/clearing.jpg">
        <img id="creekPano" src="https://sdykes3.github.io/forestVR/my-img/creek.jpg">
        <audio id="forestSound" src="https://sdykes3.github.io/forestVR/my-img/forestBest.wav"></audio>
        <audio id="streamSound" src="https://sdykes3.github.io/forestVR/my-img/streamBest.wav"></audio>

        <a-asset-item id="tree1" src="https://sdykes3.github.io/forestVR/my-img/models/Tree Type3 04.dae"></a-asset-item>
      </a-assets>


      <!--Panorama default -->
      <a-sky id="pano" color="#c2efe8"></a-sky>


      <!-- Sound, either click or auto -->
      <!-- <a-sphere id="soundObject" onclick="playSound()" position="-5 3 -3" radius="0.5" color="#EF2D5E" opacity="1"></a-sphere> -->
    
      <!-- <a-entity id="soundObject" sound="src: #forestSound; autoplay: true" position="-5 3 -3"></a-entity> -->


      <a-sphere onclick="forestScene()" position="-5 3 -3" radius="0.5" color="green" opacity="1"></a-sphere>
      <a-sphere onclick="defaultScene()" position="0 3 -3" radius="0.5" color="#EF2D5E" opacity="1"></a-sphere>
      <a-sphere onclick="creekScene()" position="5 3 -3" radius="0.5" color="blue" opacity="1"></a-sphere>



      <!-- 1. Tree objects -->
      <a-entity id="treeStuff" visible="false">
        <a-sky id="pano" src="#forestPano" color="white"></a-sky>
        
        <a-entity collada-model="#tree1" position="-2 -1 0"></a-entity>
        <a-entity collada-model="#tree1" position="-4 -1 8" scale=".5 .5 .5" rotation="0 110 0"></a-entity>
        <a-entity collada-model="#tree1" position="6 -1 -4" rotation="0 190 0"></a-entity>
        <a-entity collada-model="#tree1" position="13 -1 6" scale="3 3 3" rotation="0 90 0"></a-entity>
      </a-entity>


      <!-- 1. Creek objects -->
      <a-entity id="creekStuff" visible="false">
        <a-sky id="pano" src="#creekPano" color="white"></a-sky>

        <a-entity collada-model="#tree1" position="7 0 -7"></a-entity>
        <a-entity collada-model="#tree1" position="7 -1 14"></a-entity>
        <a-entity collada-model="#tree1" position="13 -1 7" scale="3 3 3" rotation="-15 90 0"></a-entity>
        <a-entity collada-model="#tree1" position="-21 -1 0" scale="3 3 3" rotation="0 90 0"></a-entity>
      </a-entity>


      <!-- 1. Default scene objects -->

      <a-entity id="primitiveStuff" visible="true">
        <a-sky id="pano" color="#c2efe8"></a-sky>

        <a-sphere onclick="forestScene()" position="-5 3 -3" radius="0.5" color="green" opacity="1"></a-sphere>
        <a-sphere onclick="defaultScene()" position="0 3 -3" radius="0.5" color="#EF2D5E" opacity="1"></a-sphere>
        <a-sphere onclick="creekScene()" position="5 3 -3" radius="0.5" color="blue" opacity="1"></a-sphere>
      </a-entity>





      <!-- 2. Left and Right text, and debug text.-->
      <a-text id="debugText" text="The current distance will be displayed here."
               color="blue" position="-2 3.5 0" rotation= "0 0 0" scale="1.5 1.5 1.5" width="600" align="center">
      </a-text>

      <a-text id="locationText" text="Your location text will appear here."
              color="#FF0080" position="-1 0 0" rotation= "0 0 0" scale="1.5 1.5 1.5" width="270" align="center">
      </a-text>

      <a-text id="progressText" text="The option text will appear here, on the right."
               color="yellow" position="2.5 0 0" rotation= "0 -60 0" scale="1.5 1.5 1.5" width="270" align="right">
      </a-text>





      <!--The cursor-->
      <a-entity position="0 0 3.8">
             <a-camera>
                 <a-cursor color="#359763"
                   fuse="true" >
                   <a-animation begin="fusing" easing="ease-in" attribute="material.color"
                               fill="forwards" from="#2E3A87" to="white" dur="1500"></a-animation>
                  <a-animation begin="click" easing="ease-in" attribute="material.color"
                               fill="forwards" from="white" to="#2E3A87" dur="150"></a-animation>
             </a-cursor>
             </a-camera>
      </a-entity>

      <!--For the cursor: if you want the cursor to be bigger-->
      <!-- geometry="primitive: ring; radiusOuter: 0.10;
               radiusInner: 0.05;" -->
    </a-scene>

    <!--including scripts -->
    <script src="circleDistanceScript.js"></script>
    <script src="sceneControllerVariables.js"></script>
    <script src="sceneControllerFunctions.js"></script>
    <script src="sceneControllerStart.js"></script>

    <script>

        function forestScene() {

            leftText.setAttribute('text', "");
            rightText.setAttribute('text', "LOCATION 1");
            debugText.setAttribute('text', "");

            //make treeStuff entity visible
            panoElement.setAttribute("src", "#forestPano");
            document.getElementById("treeStuff").setAttribute("visible", "true");
            document.getElementById("creekStuff").setAttribute("visible", "false");
            document.getElementById("primitiveStuff").setAttribute("visible", "false");

            audio = new Audio('https://sdykes3.github.io/forestVR/my-img/forestBest.wav');
            audio.play();

        }

      function creekScene() {

            // leftText.setAttribute('text', "");
            rightText.setAttribute('text', "LOCATION 2");
            // debugText.setAttribute('text', "");

            //make treeStuff entity visible
            panoElement.setAttribute("src", "#creekPano");
            document.getElementById("creekStuff").setAttribute("visible", "true");
            document.getElementById("treeStuff").setAttribute("visible", "false");
            document.getElementById("primitiveStuff").setAttribute("visible", "false");

            audio = new Audio('https://sdykes3.github.io/forestVR/my-img/streamBest.wav');
            audio.play();

        }

        function defaultScene() {

            // leftText.setAttribute('text', "");
            rightText.setAttribute('text', "DEFAULT SCENE VIEW");
            // debugText.setAttribute('text', "");

            //make treeStuff entity visible
            panoElement.setAttribute("color", "#c2efe8");
            document.getElementById("primitiveStuff").setAttribute("visible", "true");
            document.getElementById("treeStuff").setAttribute("visible", "false");
            document.getElementById("creekStuff").setAttribute("visible", "false");

            audio.stop();

        }

    </script>

  </body>
</html>
